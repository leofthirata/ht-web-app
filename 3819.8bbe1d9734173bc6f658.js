(self.webpackChunkht_web_app=self.webpackChunkht_web_app||[]).push([[3819],{3819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomePageModule:()=>g});var o=n(8583),i=n(3083),c=n(665),s=n(2316);function r(e,t,n,o){return new(n||(n=Promise))(function(i,c){function s(e){try{a(o.next(e))}catch(t){c(t)}}function r(e){try{a(o.throw(e))}catch(t){c(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,r)}a((o=o.apply(e,t||[])).next())})}class a{constructor(e){this.m_mac=e,this.m_name=`${e.substring(e.length-4,e.length-2)}:${e.substring(e.length-2,e.length)}`}find(){return new Promise(e=>r(this,void 0,void 0,function*(){this.m_device=yield navigator.bluetooth.requestDevice({filters:[{name:`Hausenn ONE:${this.m_name}`},{services:[30117]}]}),this.m_device?(console.log("find true"),e(!0)):(console.log("find false"),e(!1))}))}connect(){return new Promise(e=>r(this,void 0,void 0,function*(){this.m_server=yield this.m_device.gatt.connect(),this.m_server?(e(!0),console.log("conn true")):(e(!1),console.log("conn false"))}))}disconnect(){return new Promise(e=>r(this,void 0,void 0,function*(){yield this.m_device.gatt.disconnect(),console.log("disc"),e(!0)}))}getService(){return new Promise(e=>r(this,void 0,void 0,function*(){this.m_service=yield this.m_device.gatt.getPrimaryService("000075a5-0000-1000-8000-00805f9b34fb"),console.log(this.m_service),this.m_service?(console.log("svc true"),e(!0)):(console.log("svc false"),e(!1))}))}getCharacteristics(){return new Promise(e=>r(this,void 0,void 0,function*(){this.m_readCharacteristic=yield this.m_service.getCharacteristic("3b274ac1-e910-4188-95aa-452018d93750"),this.m_writeCharacteristic=yield this.m_service.getCharacteristic("bf6d9667-bd7f-4e33-a608-21520546c82d"),console.log(this.m_readCharacteristic),console.log(this.m_writeCharacteristic),this.m_readCharacteristic&&this.m_writeCharacteristic?(console.log("chr true"),e(!0)):(console.log("chr false"),e(!1))}))}scanWifi(){return new Promise(e=>r(this,void 0,void 0,function*(){yield this.m_writeCharacteristic.writeValue(Buffer.from("123456789","hex")),e(!0)}))}}class l{constructor(){}open(e){return this.m_uri=e,new Promise(t=>{this.m_ws=new WebSocket(e),this.m_ws.onopen=e=>{console.log("open:"+e),t(!0)},this.m_ws.onerror=e=>{console.log("error:"+e),t(!1)}})}send(e){return new Promise(t=>{this.m_ws.send(e),t(!0)})}ble(){(()=>{r(this,void 0,void 0,function*(){const e=yield navigator.bluetooth.requestDevice({acceptAllDevices:!0});console.log(e)})})()}}var h=n(639);const d=[{path:"",component:(()=>{class e{constructor(){}test(){return r(this,void 0,void 0,function*(){const e=new l;yield e.open("ws://localhost:8080"),e.send("bbbbbbbbbbbbbbbbbbb"),console.log("oi");const t=new a("7C9EBDD71678");yield t.find(),yield t.connect(),yield t.getService(),yield t.getCharacteristics(),yield t.scanWifi(),yield t.disconnect(),console.log("oi")})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-home"]],decls:16,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","container"],["target","_blank","rel","noopener noreferrer","href","https://ionicframework.com/docs/components"]],template:function(e,t){1&e&&(h.TgZ(0,"ion-header",0),h.TgZ(1,"ion-toolbar"),h.TgZ(2,"ion-title"),h._uU(3," Blank "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(4,"ion-content",1),h.TgZ(5,"ion-header",2),h.TgZ(6,"ion-toolbar"),h.TgZ(7,"ion-title",3),h._uU(8,"Blank"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(9,"div",4),h.TgZ(10,"strong"),h._uU(11,"Ready to create an app?"),h.qZA(),h.TgZ(12,"p"),h._uU(13,"Start with Ionic "),h.TgZ(14,"a",5),h._uU(15,"UI Components"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.Q6J("translucent",!0),h.xp6(4),h.Q6J("fullscreen",!0))},directives:[i.Gu,i.sr,i.wd,i.W2],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),e})()}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[s.Bz.forChild(d)],s.Bz]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[o.ez,c.u5,i.Pc,u]]}),e})()}}]);